{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SIMR\\\\Downloads\\\\Challenge\\\\YourRegimen\\\\front-end\\\\youregimen\\\\src\\\\components\\\\categorias\\\\cadastroCategoria\\\\CadastroCategoria.tsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Container, TextField, Typography } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { buscaId, post, put } from '../../../service/Service';\nimport './CadastroCategoria.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CadastroCategoria() {\n  _s();\n\n  let navigate = useNavigate();\n  const {\n    idCategoria\n  } = useParams();\n  const token = useSelector(state => state.tokens);\n  const [categoria, setCategoria] = useState({\n    idCategoria: '',\n    objetivoDieta: '',\n    restricaoSaude: '',\n    restricaoFinanceira: false\n  });\n  useEffect(() => {\n    if (token === \"\") {\n      toast.error(\"Você precisa estar logado\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        theme: \"colored\",\n        progress: undefined\n      });\n      navigate(\"/login\");\n    }\n  }, [token]);\n  useEffect(() => {\n    if (idCategoria !== undefined) {\n      findById(idCategoria);\n    }\n  }, [idCategoria]);\n\n  async function findById(idCategoria) {\n    buscaId(`/categoria/${idCategoria}`, setCategoria, {\n      headers: {\n        'Authorization': token\n      }\n    });\n  }\n\n  function updatedCategoria(e) {\n    setCategoria({ ...categoria,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  async function onSubmit(e) {\n    e.preventDefault();\n    console.log(\"categoria \" + JSON.stringify(categoria));\n\n    if (idCategoria !== undefined) {\n      console.log(categoria);\n      put(`/categoria`, categoria, setCategoria, {\n        headers: {\n          'Authorization': token\n        }\n      });\n      toast.success(\"Categoria atualizada com sucesso\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        theme: \"colored\",\n        progress: undefined\n      });\n    } else {\n      post(`/categoria`, categoria, setCategoria, {\n        headers: {\n          'Authorization': token\n        }\n      });\n      toast.success(\"Categoria cadastrada com sucesso\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        theme: \"colored\",\n        progress: undefined\n      });\n    }\n\n    back();\n  }\n\n  function back() {\n    navigate('/categorias');\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    className: \"topo\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        color: \"textSecondary\",\n        component: \"h1\",\n        align: \"center\",\n        children: \"Formul\\xE1rio de cadastro de categoria\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: categoria.objetivoDieta,\n        onChange: e => updatedCategoria(e),\n        id: \"objetivoDieta\",\n        label: \"objetivo da dieta\",\n        variant: \"outlined\",\n        name: \"objetivoDieta\",\n        margin: \"normal\",\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: categoria.restricaoFinanceira,\n        onChange: e => updatedCategoria(e),\n        id: \"restricaoFinanceira\",\n        label: \"restri\\xE7\\xE3o financeira\",\n        variant: \"outlined\",\n        name: \"restricaoFinanceira\",\n        margin: \"normal\",\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: categoria.restricaoSaude,\n        onChange: e => updatedCategoria(e),\n        id: \"restricaoSaude\",\n        label: \"restri\\xE7\\xE3o de sa\\xFAde\",\n        variant: \"outlined\",\n        name: \"restricaoSaude\",\n        margin: \"normal\",\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"Finalizar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CadastroCategoria, \"FTbSLSQEm+Gdz/8ERVSyhrIhN6Y=\", false, function () {\n  return [useNavigate, useParams, useSelector];\n});\n\n_c = CadastroCategoria;\nexport default CadastroCategoria;\n\nvar _c;\n\n$RefreshReg$(_c, \"CadastroCategoria\");","map":{"version":3,"names":["Button","Container","TextField","Typography","React","useEffect","useState","useSelector","useNavigate","useParams","toast","buscaId","post","put","CadastroCategoria","navigate","idCategoria","token","state","tokens","categoria","setCategoria","objetivoDieta","restricaoSaude","restricaoFinanceira","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","theme","progress","undefined","findById","headers","updatedCategoria","e","target","name","value","onSubmit","preventDefault","console","log","JSON","stringify","success","back"],"sources":["C:/Users/SIMR/Downloads/Challenge/YourRegimen/front-end/youregimen/src/components/categorias/cadastroCategoria/CadastroCategoria.tsx"],"sourcesContent":["import { Button, Container, TextField, Typography } from '@material-ui/core';\r\nimport { findByDisplayValue } from '@testing-library/react';\r\nimport React, { ChangeEvent, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport Categoria from '../../../model/Categoria';\r\nimport { buscaId, post, put } from '../../../service/Service';\r\nimport { TokenState } from '../../../store/tokens/tokensReducer';\r\nimport './CadastroCategoria.css';\r\n\r\nfunction CadastroCategoria(){\r\n    \r\n    let navigate = useNavigate();\r\n    const {idCategoria} = useParams<{idCategoria: string}>();\r\n    const token = useSelector<TokenState, TokenState[\"tokens\"]>(\r\n        (state) => state.tokens\r\n    );\r\n\r\n    const [categoria, setCategoria] = useState<Categoria>(\r\n        {\r\n            idCategoria: '',\r\n            objetivoDieta: '',\r\n            restricaoSaude: '',\r\n            restricaoFinanceira: false\r\n        }\r\n    )\r\n\r\n    useEffect(() => {\r\n        if (token === \"\") {\r\n            toast.error(\"Você precisa estar logado\", {\r\n                position: \"top-right\",\r\n                autoClose: 2000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: false,\r\n                draggable: false,\r\n                theme: \"colored\",\r\n                progress: undefined\r\n            })\r\n            navigate(\"/login\")\r\n        }\r\n    }, [token])\r\n\r\n    useEffect(() => {\r\n        if(idCategoria !== undefined){\r\n            findById(idCategoria)\r\n        }\r\n    }, [idCategoria])\r\n\r\n    async function findById(idCategoria: string) {\r\n        buscaId(`/categoria/${idCategoria}`, setCategoria, {\r\n            headers: {\r\n              'Authorization': token\r\n            }\r\n          })\r\n        }\r\n\r\n        function updatedCategoria(e: ChangeEvent<HTMLInputElement>) {\r\n\r\n            setCategoria({\r\n                ...categoria,\r\n                [e.target.name]: e.target.value,\r\n            })\r\n    \r\n        }\r\n        \r\n        async function onSubmit(e: ChangeEvent<HTMLFormElement>) {\r\n            e.preventDefault()\r\n            console.log(\"categoria \" + JSON.stringify(categoria))\r\n    \r\n            if (idCategoria !== undefined) {\r\n                console.log(categoria)\r\n                put(`/categoria`, categoria, setCategoria, {\r\n                    headers: {\r\n                        'Authorization': token\r\n                    }\r\n                })\r\n               \r\n                toast.success(\"Categoria atualizada com sucesso\", {\r\n                    position: \"top-right\",\r\n                    autoClose: 2000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: false,\r\n                    draggable: false,\r\n                    theme: \"colored\",\r\n                    progress: undefined\r\n                    \r\n        \r\n                })\r\n            } else {\r\n                post(`/categoria`, categoria, setCategoria, {\r\n                    headers: {\r\n                        'Authorization': token\r\n                    }\r\n                })\r\n               \r\n                toast.success(\"Categoria cadastrada com sucesso\", {\r\n                    position: \"top-right\",\r\n                    autoClose: 2000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: false,\r\n                    draggable: false,\r\n                    theme: \"colored\",\r\n                    progress: undefined\r\n                    \r\n        \r\n                })\r\n            }\r\n            back()\r\n    \r\n        }\r\n    \r\n        function back() {\r\n            navigate('/categorias')\r\n        }\r\n        \r\n  \r\n    return (\r\n        <Container maxWidth=\"sm\" className=\"topo\">\r\n            <form onSubmit={onSubmit}>\r\n                <Typography variant=\"h3\" color=\"textSecondary\" component=\"h1\" align=\"center\" >Formulário de cadastro de categoria</Typography>\r\n                <TextField value={categoria.objetivoDieta} onChange={(e: ChangeEvent<HTMLInputElement>) => updatedCategoria(e)} id=\"objetivoDieta\" label=\"objetivo da dieta\" variant=\"outlined\" name=\"objetivoDieta\" margin=\"normal\" fullWidth />\r\n                <TextField value={categoria.restricaoFinanceira} onChange={(e: ChangeEvent<HTMLInputElement>) => updatedCategoria(e)} id=\"restricaoFinanceira\" label=\"restrição financeira\" variant=\"outlined\" name=\"restricaoFinanceira\" margin=\"normal\" fullWidth />\r\n                <TextField value={categoria.restricaoSaude} onChange={(e: ChangeEvent<HTMLInputElement>) => updatedCategoria(e)} id=\"restricaoSaude\" label=\"restrição de saúde\" variant=\"outlined\" name=\"restricaoSaude\" margin=\"normal\" fullWidth />\r\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                    Finalizar\r\n                </Button>\r\n            </form>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CadastroCategoria;"],"mappings":";;;AAAA,SAASA,MAAT,EAAiBC,SAAjB,EAA4BC,SAA5B,EAAuCC,UAAvC,QAAyD,mBAAzD;AAEA,OAAOC,KAAP,IAA6BC,SAA7B,EAAwCC,QAAxC,QAAwD,OAAxD;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,kBAAvC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,SAASC,OAAT,EAAkBC,IAAlB,EAAwBC,GAAxB,QAAmC,0BAAnC;AAEA,OAAO,yBAAP;;;AAEA,SAASC,iBAAT,GAA4B;EAAA;;EAExB,IAAIC,QAAQ,GAAGP,WAAW,EAA1B;EACA,MAAM;IAACQ;EAAD,IAAgBP,SAAS,EAA/B;EACA,MAAMQ,KAAK,GAAGV,WAAW,CACpBW,KAAD,IAAWA,KAAK,CAACC,MADI,CAAzB;EAIA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4Bf,QAAQ,CACtC;IACIU,WAAW,EAAE,EADjB;IAEIM,aAAa,EAAE,EAFnB;IAGIC,cAAc,EAAE,EAHpB;IAIIC,mBAAmB,EAAE;EAJzB,CADsC,CAA1C;EASAnB,SAAS,CAAC,MAAM;IACZ,IAAIY,KAAK,KAAK,EAAd,EAAkB;MACdP,KAAK,CAACe,KAAN,CAAY,2BAAZ,EAAyC;QACrCC,QAAQ,EAAE,WAD2B;QAErCC,SAAS,EAAE,IAF0B;QAGrCC,eAAe,EAAE,KAHoB;QAIrCC,YAAY,EAAE,IAJuB;QAKrCC,YAAY,EAAE,KALuB;QAMrCC,SAAS,EAAE,KAN0B;QAOrCC,KAAK,EAAE,SAP8B;QAQrCC,QAAQ,EAAEC;MAR2B,CAAzC;MAUAnB,QAAQ,CAAC,QAAD,CAAR;IACH;EACJ,CAdQ,EAcN,CAACE,KAAD,CAdM,CAAT;EAgBAZ,SAAS,CAAC,MAAM;IACZ,IAAGW,WAAW,KAAKkB,SAAnB,EAA6B;MACzBC,QAAQ,CAACnB,WAAD,CAAR;IACH;EACJ,CAJQ,EAIN,CAACA,WAAD,CAJM,CAAT;;EAMA,eAAemB,QAAf,CAAwBnB,WAAxB,EAA6C;IACzCL,OAAO,CAAE,cAAaK,WAAY,EAA3B,EAA8BK,YAA9B,EAA4C;MAC/Ce,OAAO,EAAE;QACP,iBAAiBnB;MADV;IADsC,CAA5C,CAAP;EAKC;;EAED,SAASoB,gBAAT,CAA0BC,CAA1B,EAA4D;IAExDjB,YAAY,CAAC,EACT,GAAGD,SADM;MAET,CAACkB,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;IAFjB,CAAD,CAAZ;EAKH;;EAED,eAAeC,QAAf,CAAwBJ,CAAxB,EAAyD;IACrDA,CAAC,CAACK,cAAF;IACAC,OAAO,CAACC,GAAR,CAAY,eAAeC,IAAI,CAACC,SAAL,CAAe3B,SAAf,CAA3B;;IAEA,IAAIJ,WAAW,KAAKkB,SAApB,EAA+B;MAC3BU,OAAO,CAACC,GAAR,CAAYzB,SAAZ;MACAP,GAAG,CAAE,YAAF,EAAeO,SAAf,EAA0BC,YAA1B,EAAwC;QACvCe,OAAO,EAAE;UACL,iBAAiBnB;QADZ;MAD8B,CAAxC,CAAH;MAMAP,KAAK,CAACsC,OAAN,CAAc,kCAAd,EAAkD;QAC9CtB,QAAQ,EAAE,WADoC;QAE9CC,SAAS,EAAE,IAFmC;QAG9CC,eAAe,EAAE,KAH6B;QAI9CC,YAAY,EAAE,IAJgC;QAK9CC,YAAY,EAAE,KALgC;QAM9CC,SAAS,EAAE,KANmC;QAO9CC,KAAK,EAAE,SAPuC;QAQ9CC,QAAQ,EAAEC;MARoC,CAAlD;IAYH,CApBD,MAoBO;MACHtB,IAAI,CAAE,YAAF,EAAeQ,SAAf,EAA0BC,YAA1B,EAAwC;QACxCe,OAAO,EAAE;UACL,iBAAiBnB;QADZ;MAD+B,CAAxC,CAAJ;MAMAP,KAAK,CAACsC,OAAN,CAAc,kCAAd,EAAkD;QAC9CtB,QAAQ,EAAE,WADoC;QAE9CC,SAAS,EAAE,IAFmC;QAG9CC,eAAe,EAAE,KAH6B;QAI9CC,YAAY,EAAE,IAJgC;QAK9CC,YAAY,EAAE,KALgC;QAM9CC,SAAS,EAAE,KANmC;QAO9CC,KAAK,EAAE,SAPuC;QAQ9CC,QAAQ,EAAEC;MARoC,CAAlD;IAYH;;IACDe,IAAI;EAEP;;EAED,SAASA,IAAT,GAAgB;IACZlC,QAAQ,CAAC,aAAD,CAAR;EACH;;EAGL,oBACI,QAAC,SAAD;IAAW,QAAQ,EAAC,IAApB;IAAyB,SAAS,EAAC,MAAnC;IAAA,uBACI;MAAM,QAAQ,EAAE2B,QAAhB;MAAA,wBACI,QAAC,UAAD;QAAY,OAAO,EAAC,IAApB;QAAyB,KAAK,EAAC,eAA/B;QAA+C,SAAS,EAAC,IAAzD;QAA8D,KAAK,EAAC,QAApE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI,QAAC,SAAD;QAAW,KAAK,EAAEtB,SAAS,CAACE,aAA5B;QAA2C,QAAQ,EAAGgB,CAAD,IAAsCD,gBAAgB,CAACC,CAAD,CAA3G;QAAgH,EAAE,EAAC,eAAnH;QAAmI,KAAK,EAAC,mBAAzI;QAA6J,OAAO,EAAC,UAArK;QAAgL,IAAI,EAAC,eAArL;QAAqM,MAAM,EAAC,QAA5M;QAAqN,SAAS;MAA9N;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI,QAAC,SAAD;QAAW,KAAK,EAAElB,SAAS,CAACI,mBAA5B;QAAiD,QAAQ,EAAGc,CAAD,IAAsCD,gBAAgB,CAACC,CAAD,CAAjH;QAAsH,EAAE,EAAC,qBAAzH;QAA+I,KAAK,EAAC,4BAArJ;QAA4K,OAAO,EAAC,UAApL;QAA+L,IAAI,EAAC,qBAApM;QAA0N,MAAM,EAAC,QAAjO;QAA0O,SAAS;MAAnP;QAAA;QAAA;QAAA;MAAA,QAHJ,eAII,QAAC,SAAD;QAAW,KAAK,EAAElB,SAAS,CAACG,cAA5B;QAA4C,QAAQ,EAAGe,CAAD,IAAsCD,gBAAgB,CAACC,CAAD,CAA5G;QAAiH,EAAE,EAAC,gBAApH;QAAqI,KAAK,EAAC,6BAA3I;QAAgK,OAAO,EAAC,UAAxK;QAAmL,IAAI,EAAC,gBAAxL;QAAyM,MAAM,EAAC,QAAhN;QAAyN,SAAS;MAAlO;QAAA;QAAA;QAAA;MAAA,QAJJ,eAKI,QAAC,MAAD;QAAQ,IAAI,EAAC,QAAb;QAAsB,OAAO,EAAC,WAA9B;QAA0C,KAAK,EAAC,SAAhD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QALJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAaH;;GA1HQxB,iB;UAEUN,W,EACOC,S,EACRF,W;;;KAJTO,iB;AA4HT,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}